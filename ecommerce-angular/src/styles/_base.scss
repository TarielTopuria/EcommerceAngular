@use 'variables' as *;

:root {
	--app-primary: #{$color-primary};
	--app-bg: #ffffff;
	--app-surface: #ffffff;
	--app-surface-2: color-mix(in oklab, var(--app-surface) 92%, var(--app-text) 8%);
	--app-text: #{$color-text};
	--app-text-muted: rgba(34, 34, 34, 0.78);
	--app-border: rgba(34, 34, 34, 0.12);
	--app-danger: #b3261e;
	--app-success: #2da44e;
	--app-radius: #{$radius-md};
	--app-radius-sm: #{$radius-sm};
	--app-ring: color-mix(in oklab, var(--app-primary) 35%, transparent);
	--app-shadow-color: color-mix(in oklab, var(--app-text) 18%, transparent);
	--app-shadow-1: 0 10px 30px -18px var(--app-shadow-color);
	--app-shadow-2: 0 18px 48px -26px var(--app-shadow-color);
}

:root[data-theme='dark'] {
	--app-bg: #0b0f14;
	--app-surface: #111827;
	--app-surface-2: color-mix(in oklab, var(--app-surface) 88%, var(--app-text) 12%);
	--app-text: #e6edf3;
	--app-text-muted: rgba(230, 237, 243, 0.78);
	--app-border: rgba(230, 237, 243, 0.16);
	--app-shadow-color: color-mix(in oklab, #000 70%, transparent);
}

*, *::before, *::after { box-sizing: border-box; }
html, body { height: 100%; }
html {
	text-size-adjust: 100%;
	-webkit-text-size-adjust: 100%;
	color-scheme: light dark;
}
body {
	margin: 0;
	font-family: system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, Cantarell, "Noto Sans", "Helvetica Neue", Arial, "Apple Color Emoji", "Segoe UI Emoji";
	color: var(--app-text);
	background: radial-gradient(
		1200px 600px at 20% 0%,
		color-mix(in oklab, var(--app-primary) 9%, var(--app-bg)),
		var(--app-bg) 60%
	);
	line-height: 1.5;
	font-size: 16px;
}

a { color: inherit; text-decoration: none; text-underline-offset: 3px; }
a:hover { text-decoration: underline; }

img { max-width: 100%; height: auto; display: block; }

button, input, select, textarea { font: inherit; }

:where(button, [role='button'], a, input, select, textarea):focus-visible {
	outline: 3px solid var(--app-ring);
	outline-offset: 2px;
}

::selection {
	background: color-mix(in oklab, var(--app-primary) 22%, transparent);
}

h1, h2, h3 {
	line-height: 1.2;
	margin: 0 0 0.75rem 0;
	letter-spacing: -0.02em;
}
h1 { font-size: clamp(1.5rem, 1.2rem + 1.2vw, 2.25rem); }
h2 { font-size: clamp(1.25rem, 1.1rem + 0.8vw, 1.75rem); }
h3 { font-size: 1rem; }

p { margin: 0 0 0.75rem 0; color: var(--app-text); }
small { color: var(--app-text-muted); }

label {
	display: inline-block;
	font-weight: 650;
	color: var(--app-text);
}

.container {
	max-width: $container-max-width;
	margin: 0 auto;
	padding: 0 $spacing-unit;
	width: 100%;
}

@media (max-width: $bp-sm) {
	.container {
		padding: 0 calc($spacing-unit * 0.75);
	}
}

.card {
	background: var(--app-surface);
	border: 1px solid var(--app-border);
	border-radius: var(--app-radius);
	box-shadow: var(--app-shadow-1);
}

.surface {
	background: var(--app-surface);
	border: 1px solid var(--app-border);
	border-radius: var(--app-radius);
	box-shadow: var(--app-shadow-1);
}

.page {
	display: grid;
	gap: 1rem;
}

.page-header {
	display: grid;
	gap: 0.35rem;
	padding: 0.25rem 0;
}

.page-header__title {
	margin: 0;
}

.page-header__subtitle {
	margin: 0;
	color: var(--app-text-muted);
}

.toolbar {
	display: flex;
	align-items: end;
	justify-content: space-between;
	gap: 0.75rem;
	flex-wrap: wrap;
}

.stack {
	display: grid;
	gap: 0.75rem;
}

.btn {
	appearance: none;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	gap: 0.5rem;
	padding: 0.6rem 0.9rem;
	border-radius: var(--app-radius-sm);
	border: 1px solid transparent;
	background: transparent;
	color: var(--app-text);
	font-weight: 650;
	line-height: 1.1;
	cursor: pointer;
	transition:
		background-color #{$transition-fast} ease,
		border-color #{$transition-fast} ease,
		transform #{$transition-fast} ease,
		box-shadow #{$transition-fast} ease;
}

.btn:hover {
	transform: translateY(-1px);
}

.btn:disabled,
.btn[disabled] {
	opacity: 0.6;
	cursor: not-allowed;
}

.btn--primary {
	background: var(--app-primary);
	color: #fff;
	box-shadow: 0 14px 34px -24px color-mix(in oklab, var(--app-primary) 65%, #000);
}

.btn--primary:hover {
	filter: brightness(0.97);
}

.btn--secondary {
	background: var(--app-surface-2);
	border-color: var(--app-border);
}

.btn--ghost {
	border-color: var(--app-border);
}

.btn--danger {
	background: var(--app-danger);
	color: #fff;
}

.input,
.select,
input,
select,
textarea {
	background: var(--app-surface);
	color: var(--app-text);
	border: 1px solid var(--app-border);
	border-radius: var(--app-radius-sm);
	padding: 0.55rem 0.75rem;
}

textarea { resize: vertical; }

.help-text { color: var(--app-text-muted); font-size: 0.95rem; }

:where(input, select, textarea):focus {
	outline: none;
	border-color: color-mix(in oklab, var(--app-primary) 70%, var(--app-border));
}

.muted { color: var(--app-text-muted); }
